<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PIMPOON 3D | STL Portfolio & Custom Work</title>
  <meta name="description" content="Showcase of high-quality STL models. Get a custom 3D design or print job.">
  <meta property="og:title" content="PIMPOON 3D | STL Portfolio & Custom Work">
  <meta property="og:description" content="Showcase of high-quality STL models. Get a custom 3D design or print job.">
  <meta property="og:type" content="website">
  <meta name="theme-color" content="#0ea5e9">
  <link rel="preconnect" href="https://unpkg.com">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;500;700;900&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg-0:#0b1020; --bg-1:#0b1226; --bg-2:#0a1b3a;
      --text:#eaf2ff; --muted:#a8b3c7; --accent:#0ea5e9; --accent-2:#7c3aed;
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius:14px; --glass-bg: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      --grid-gap:16px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif; color:var(--text);
      background:
        radial-gradient(1200px 600px at 80% -10%, rgba(124,58,237,.25), transparent 50%),
        radial-gradient(900px 500px at -10% 30%, rgba(14,165,233,.25), transparent 50%),
        linear-gradient(180deg, var(--bg-1), var(--bg-0) 25%, var(--bg-2) 100%);
      background-attachment: fixed;
    }
    a{color:inherit;text-decoration:none}
    header{position:sticky; top:0; z-index:20; backdrop-filter:saturate(140%) blur(10px);
      background:linear-gradient(180deg, rgba(10,14,35,.9), rgba(10,14,35,.6));
      border-bottom:1px solid rgba(255,255,255,.06);}
    .nav{ max-width:1200px; margin:0 auto; padding:14px 20px; display:flex; align-items:center; justify-content:space-between; gap:24px;}
    .brand{display:flex; align-items:center; gap:12px; font-weight:900; letter-spacing:.3px}
    .logo{width:36px; height:36px; border-radius:10px; background: conic-gradient(from 210deg, var(--accent), var(--accent-2));
      box-shadow: inset 0 0 20px rgba(255,255,255,.15), 0 6px 18px rgba(14,165,233,.35); }
    .menu{display:flex; gap:18px; align-items:center; flex-wrap:wrap}
    .menu a{padding:8px 12px; color:var(--muted)}
    .menu a:hover{color:var(--text)}
    .btn{display:inline-flex; align-items:center; gap:10px; padding:11px 16px; border-radius:12px; font-weight:600;
      border:1px solid rgba(255,255,255,.12); background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02)); color:var(--text)}
    .btn.primary{border-color:transparent; background:linear-gradient(180deg, #16a8ea, #0d83c1); box-shadow:0 10px 20px rgba(14,165,233,.35)}

    .hero{ max-width:1200px; margin:40px auto 10px; padding:40px 20px 10px;}
    .hero h1{ font-size: clamp(32px, 6vw, 64px); line-height:1.05; margin:10px 0 16px; letter-spacing:-.02em; text-shadow: 0 10px 30px rgba(14,165,233,.15);}
    .hero p{ font-size:clamp(16px, 2vw, 19px); color:var(--muted); max-width:820px; margin:0 0 20px;}
    .hero-cta{display:flex; gap:12px; flex-wrap:wrap; margin:20px 0 0}
    .stats{display:flex; gap:22px; margin-top:26px; color:#c8d5f0; flex-wrap:wrap}
    .stat{padding:8px 12px; border-radius:999px; border:1px solid rgba(255,255,255,.10); background:var(--glass-bg)}

    .section{ max-width:1200px; margin:0 auto; padding:30px 20px 60px; }
    h2{font-size:clamp(22px, 2.8vw, 32px); margin:0 0 14px}
    .sub{color:var(--muted); margin:0 0 24px}

    .grid{ display:grid; gap:var(--grid-gap); grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); }
    .card{ border-radius:var(--radius); background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      border:1px solid rgba(255,255,255,.12); overflow:hidden; box-shadow:var(--shadow);
      transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease;
      display:flex; flex-direction:column; min-height:320px; }
    .card:hover{transform: translateY(-3px); border-color: rgba(14,165,233,.55); box-shadow:0 16px 40px rgba(14,165,233,.15)}

    .preview{ position:relative; aspect-ratio: 16/10; background: radial-gradient(120% 120% at 0% 0%, rgba(14,165,233,.26), transparent 50%), #0b1127;
      display:grid; place-items:center; overflow:hidden; }
    .badge{ position:absolute; top:10px; left:10px; font-size:12px; letter-spacing:.3px; padding:6px 10px; border-radius:999px;
      border:1px solid rgba(255,255,255,.14); background:var(--glass-bg); color:#d7e6ff; z-index:2; }

    .content{padding:14px 14px 16px; display:flex; flex-direction:column; gap:8px}
    .title{font-weight:700}
    .desc{color:var(--muted); font-size:14px}
    .tags{display:flex; gap:8px; flex-wrap:wrap; margin-top:6px}
    .tag{font-size:12px; padding:5px 8px; border-radius:8px; color:#cfe6ff; border:1px solid rgba(255,255,255,.12); background:var(--glass-bg)}
    .card .actions{margin-top:auto; display:flex; gap:10px; padding:0 14px 14px}
    .actions .btn{width:100%; justify-content:center; padding:10px 12px}

    /* Reset button bottom-right */
    .reset-btn{
      position:absolute; right:10px; bottom:10px; width:36px; height:36px; border-radius:50%; border:0;
      background: rgba(31,42,53,0.86); color:#fff; font-size:16px; cursor:pointer;
      display:grid; place-items:center; box-shadow:0 4px 12px rgba(0,0,0,0.25);
      opacity:.95; transition: transform .12s ease, opacity .12s ease; z-index:2;
    }
    .reset-btn:hover{ transform:scale(1.05); opacity:1; }

    footer{border-top:1px solid rgba(255,255,255,.08); color:#9fb0ca}
    .foot{max-width:1200px; margin:0 auto; padding:26px 20px; display:flex; justify-content:space-between; gap:12px; flex-wrap:wrap}
  </style>
</head>
<body>
  <header>
    <nav class="nav" aria-label="Primary">
      <div class="brand"><span class="logo" aria-hidden="true"></span><span>PIMPOON 3D</span></div>
      <div class="menu">
        <a href="#portfolio">Portfolio</a><a href="#services">Services</a><a href="#contact">Contact</a>
        <a class="btn" href="mailto:hello@yourdomain.tld">Email</a>
      </div>
    </nav>
  </header>

  <main>
    <section class="hero" aria-labelledby="hero-title">
      <h1 id="hero-title">Premium STL models and custom 3D work</h1>
      <p>Clean geometry, print-ready files, and tailored engineering. Browse selected STL projects below or send your brief for a custom model or print.</p>
      <div class="hero-cta"><a class="btn primary" href="#portfolio">View portfolio</a><a class="btn" href="#contact">Request a custom quote</a></div>
      <div class="stats"><div class="stat">✓ Print-ready STL</div><div class="stat">Realtime preview</div><div class="stat">Rapid turnaround</div></div>
    </section>

    <section id="portfolio" class="section" aria-labelledby="pf-title">
      <h2 id="pf-title">Featured STL portfolio</h2>
      <p class="sub">Models are interactive. Use mouse/touch to orbit, scroll to zoom. Click ↺ to reset the view.</p>

      <div class="grid" id="grid">
        <!-- IMPORTANT: relative paths (no leading slash) -->
        <article class="card" data-model="assets/models/gear.stl" data-title="Parametric Gear" data-color="#cfe6ff">
          <div class="preview"><span class="badge">STL</span></div>
          <div class="content">
            <div class="title">Parametric Gear</div>
            <div class="desc">Precision gear with chamfers and proper backlash. Tuned for FDM printability.</div>
            <div class="tags"><span class="tag">Engineering</span><span class="tag">FDM</span><span class="tag">Tolerance-aware</span></div>
          </div>
          <div class="actions"><a class="btn primary" download href="assets/models/gear.stl">Download</a></div>
        </article>

        <article class="card" data-model="assets/models/Paperclip.stl" data-title="Paperclip" data-color="#d9e4ff">
          <div class="preview"><span class="badge">STL</span></div>
          <div class="content">
            <div class="title">Paperclip</div>
            <div class="desc">Simple, clean geometry — great example piece for STL viewing.</div>
            <div class="tags"><span class="tag">Example</span><span class="tag">Minimal</span><span class="tag">Drag-to-orbit</span></div>
          </div>
          <div class="actions"><a class="btn primary" download href="assets/models/Paperclip.stl">Download</a></div>
        </article>

        <article class="card" data-model="assets/models/phone-stand.stl" data-title="Phone Stand" data-color="#e4fbff">
          <div class="preview"><span class="badge">STL</span></div>
          <div class="content">
            <div class="title">Phone Stand</div>
            <div class="desc">Lightweight lattice, minimal material use, printable without supports.</div>
            <div class="tags"><span class="tag">Functional</span><span class="tag">Optimized</span><span class="tag">No-supports</span></div>
          </div>
          <div class="actions"><a class="btn primary" download href="assets/models/phone-stand.stl">Download</a></div>
        </article>
      </div>
    </section>
  </main>

  <footer>
    <div class="foot"><div>&copy; <span id="y"></span> PIMPOON 3D</div><div>Built with Three.js STL viewer</div></div>
  </footer>

  <!-- STL per-card viewers -->
  <script type="module">
    import * as THREE from 'https://unpkg.com/three@0.160.0/build/three.module.js';
    import { OrbitControls } from 'https://unpkg.com/three@0.160.0/examples/jsm/controls/OrbitControls.js';
    import { STLLoader } from 'https://unpkg.com/three@0.160.0/examples/jsm/loaders/STLLoader.js';

    const yearEl = document.getElementById('y');
    if (yearEl) yearEl.textContent = new Date().getFullYear();

    class STLCardViewer {
      constructor(container, url, colorHex) {
        this.container = container; this.url = url; this.mesh = null;
        this.active = false; this.clock = new THREE.Clock(); this.isUserInteracting = false;
        this._initial = null; this._targetRadius = 1.0;

        this.scene = new THREE.Scene();
        this.scene.background = new THREE.Color('#0b1127');

        const w = Math.max(container.clientWidth, 10);
        const h = Math.max(container.clientHeight, 10);
        this.camera = new THREE.PerspectiveCamera(50, w/h, 0.01, 200);
        this.camera.position.set(0, 0.3, 3);

        this.renderer = new THREE.WebGLRenderer({ antialias: true, alpha: false, powerPreference: 'high-performance' });
        this.renderer.setPixelRatio(Math.min(2, window.devicePixelRatio || 1));
        this.renderer.setSize(w, h, false);
        this.renderer.outputColorSpace = THREE.SRGBColorSpace;
        this.renderer.toneMapping = THREE.ACESFilmicToneMapping;
        this.renderer.shadowMap.enabled = false;
        container.appendChild(this.renderer.domElement);

        const hemi = new THREE.HemisphereLight(0xffffff, 0x8899aa, 0.9);
        const dir = new THREE.DirectionalLight(0xffffff, 1.0); dir.position.set(3.5, 6, 3);
        this.scene.add(hemi, dir);

        this.controls = new OrbitControls(this.camera, this.renderer.domElement);
        this.controls.enableDamping = true; this.controls.dampingFactor = 0.08;
        this.controls.rotateSpeed = 0.85; this.controls.zoomSpeed = 0.9;
        this.controls.minDistance = 0.7; this.controls.maxDistance = 30;
        this.controls.autoRotate = true; this.controls.autoRotateSpeed = 0.6;
        this.controls.addEventListener('start', () => { this.isUserInteracting = true; });
        this.controls.addEventListener('end', () => { this.isUserInteracting = false; });

        this.loadModel(colorHex);

        this.ro = new ResizeObserver(() => this.onResize());
        this.ro.observe(container);
      }

      loadModel(colorHex) {
        const loader = new STLLoader();
        loader.load(
          this.url,
          (geometry) => {
            geometry.computeVertexNormals();
            geometry.center();
            geometry.computeBoundingSphere();

            const material = new THREE.MeshStandardMaterial({
              color: new THREE.Color(colorHex || '#cfe6ff'), metalness: 0.06, roughness: 0.55
            });

            this.mesh = new THREE.Mesh(geometry, material);
            this.mesh.castShadow = false; this.mesh.receiveShadow = false;

            const radius = geometry.boundingSphere ? geometry.boundingSphere.radius : 1;
            const s = (this._targetRadius / Math.max(radius, 1e-6));
            this.mesh.scale.setScalar(s);
            this.mesh.rotation.x = -Math.PI / 12;

            this.scene.add(this.mesh);

            this._initial = {
              position: this.mesh.position.clone(),
              quaternion: this.mesh.quaternion.clone(),
              scale: this.mesh.scale.clone()
            };

            this.fitCameraToObject(this._targetRadius * 1.3);
            this.controls.saveState();
          },
          undefined,
          (err) => {
            const msg = document.createElement('div');
            msg.textContent = 'Failed to load STL (check path).';
            msg.style.position = 'absolute'; msg.style.left = '12px'; msg.style.bottom = '12px';
            msg.style.color = '#fca5a5'; msg.style.fontSize = '12px';
            this.container.appendChild(msg);
            console.error('STL load error:', err);
          }
        );
      }

      fitCameraToObject(radius) {
        const fov = this.camera.fov * (Math.PI / 180);
        const dist = (radius / Math.sin(fov / 2)) * 0.9;
        this.camera.position.set(0, radius * 0.15, dist);
        this.controls.target.set(0, 0, 0);
        this.controls.update();
      }

      onResize() {
        const w = Math.max(this.container.clientWidth, 10);
        const h = Math.max(this.container.clientHeight, 10);
        this.camera.aspect = w / h; this.camera.updateProjectionMatrix();
        this.renderer.setSize(w, h, false);
      }

      start() { if (!this.active) { this.active = true; this.clock.start(); this.animate(); } }
      stop() { this.active = false; }

      animate() {
        if (!this.active) return;
        if (this.mesh && !this.isUserInteracting) {
          this.mesh.position.y = Math.sin(performance.now() * 0.0012) * 0.03;
        }
        this.controls.update();
        this.renderer.render(this.scene, this.camera);
        requestAnimationFrame(() => this.animate());
      }

      reset() {
        if (!this.mesh || !this._initial) return;
        this.mesh.position.copy(this._initial.position);
        this.mesh.quaternion.copy(this._initial.quaternion);
        this.mesh.scale.copy(this._initial.scale);
        this.controls.reset();
      }
    }

    // Build viewers
    const viewers = new Map();
    document.querySelectorAll('#grid .card').forEach(card => {
      const url = card.dataset.model; if (!url) return;
      const color = card.dataset.color || '#cfe6ff';
      const preview = card.querySelector('.preview');

      const resetBtn = document.createElement('button');
      resetBtn.className = 'reset-btn'; resetBtn.type = 'button';
      resetBtn.title = 'Reset view'; resetBtn.textContent = '↺';
      preview.appendChild(resetBtn);

      const viewer = new STLCardViewer(preview, url, color);
      viewers.set(preview, viewer);
      resetBtn.addEventListener('click', (e) => { e.stopPropagation(); viewer.reset(); });
    });

    // Animate only when visible
    const io = new IntersectionObserver((entries) => {
      for (const entry of entries) {
        const viewer = viewers.get(entry.target);
        if (!viewer) continue;
        if (entry.isIntersecting) viewer.start(); else viewer.stop();
      }
    }, { threshold: 0.2 });

    for (const [previewEl] of viewers.entries()) io.observe(previewEl);

    // Start those initially on screen
    requestAnimationFrame(() => {
      for (const [previewEl, viewer] of viewers.entries()) {
        const r = previewEl.getBoundingClientRect();
        if (r.top < innerHeight && r.bottom > 0) viewer.start();
      }
    });

    // Footer year
    const y = document.getElementById('y'); if (y) y.textContent = new Date().getFullYear();
  </script>

  <!--
    Notes:
    • Use relative paths like "assets/models/gear.stl" on GitHub Pages project sites.
    • Filenames are case-sensitive. Encode spaces/#: "Day%20%233%20-%20Paperclip.stl".
    • If you open the file from disk (file://), run a local server (e.g., `python -m http.server`).
  -->
</body>
</html>
